$ vmstat -w 1
--procs-- -----------------------memory---------------------- ---swap-- -----io---- -system-- ----------cpu----------
   r    b         swpd         free         buff        cache   si   so    bi    bo   in   cs  us  sy  id  wa  st  gu
   0    0      1665784      6850764        26332       215808    0    0     0     0  389  575   0   1  99   0   0   0
   0    0      1665784      6849756        26332       215808   24    0    24     0  542  756   1   1  98   0   0   0
   0    0      1665784      6848500        26332       215808    4    0     4     0  468  631   0   1  99   0   0   0
   0    0      1665784      6847492        26340       215808    0    0     0    12  411  602   1   0  98   0   0   0

$ ./mem_v2 $((1024*7))
Allocating 7516192768 bytes (7168.00 MiB)
        number of integers in array: 1879048192

--procs-- -----------------------memory---------------------- ---swap-- -----io---- -system-- ----------cpu----------
   r    b         swpd         free         buff        cache   si   so    bi    bo   in   cs  us  sy  id  wa  st  gu
   1    0      1665784      6485352        26340       215820    8    0    20    24  698  844   4   9  87   0   0   0
   1    0      1665784      5843508        26340       215820    0    0     0     0  708  633   7  20  73   0   0   0
   1    0      1665784      5288884        26340       215820   56    0    56     0 2019 2978   8  25  67   0   0   0
   1    0      1665784      4713568        26340       215820    0    0     0     0  762  686   6  21  73   0   0   0
   1    0      1665784      4134976        26348       215820    0    0     0    12  689  632   5  21  73   0   0   0
   1    0      1665784      3541268        26348       215820    0    0     0     4  716  622   6  21  73   0   0   0
   1    0      1665784      2973512        26348       215820   24    0    24     0  768  764   5  22  73   0   0   0
   1    0      1665784      2465512        26348       215820  144    0   144   492 1112 1179   7  21  71   1   0   0
   1    0      1665784      2106192        26348       215820    4    0     4     0  746  699   4  20  75   0   0   0
   1    0      1665784      1717356        26356       215820    4    0     4    28  732  662   4  21  75   1   0   0
   2    0      1665784      1144560        26356       215820   12    0    12     0  736  703   5  21  74   0   0   0
   1    0      1665784       610736        26356       215820  136    0   136     0 2020 2978   7  25  68   0   0   0
   1    0      1665528       212712        26356       215820   72    0    72     0  868  914   5  23  72   0   0   0

# sy picks as mem_v2 poises to usher the first printf()
--procs-- -----------------------memory---------------------- ---swap-- -----io---- -system-- ----------cpu----------
   r    b         swpd         free         buff        cache   si   so    bi    bo   in   cs  us  sy  id  wa  st  gu
   2    2      1678616        74376        15024       122384   20 13148  1784 13148 1469 1246   3  46  47   4   0   0
   3    0      1682136        71132         3400        82808  100 3500 13244  3512 1925 2552   2  73  10  16   0   0

Loops: 1        | Window:    1 loops at 16006.01 ms/lp | Bandwidth:   447.83 MiB/s

# From here starts the massive thrashing.
--procs-- -----------------------memory---------------------- ---swap-- -----io---- -system-- ----------cpu----------
   r    b         swpd         free         buff        cache   si   so    bi    bo   in   cs  us  sy  id  wa  st  gu
   2    1      1856320        71816         5948        88912  356 174200 24572 174200 3829 3844   3  59  11  27   0   0
   1    0      2014112        98008         6508        93880 11640 165892 18696 165892 5453 4674   2  38  40  20   0   0
   0    1      2001972        71332         8168        99408 31548 11616 38776 11616 6774 7188   1   9  63  26   0   0
   2    1      2044916        75228         9016       105728 38340 34512 38340 34512 7116 6813   1  11  67  21   0   0
   0    1      2072820        76352         9008       104780 27768 28988 27768 28988 7276 6791   1   8  70  22   0   0
   2    1      2074052        77400         8956       104576 24732 24832 24732 24832 7393 7269   1  10  67  22   0   0
   1    0      2077296        77576         8908       104744 31344 31892 31616 31892 7862 9209   2  16  61  20   0   0
   ...
   1    1      2095380        78196         1588        90468 31016 26564 31988 26576 7676 10035   2  17  40  41   0   0
   4    0      2097128        86264         1484        78720 32104 28028 32312 28028 8405 10025   1  24  34  41   0   0
   1    0      2084576        77596         1500        78564 28504 12940 35864 12940 7763 8045   1  15  54  30   0   0
   1    1      2096628        80896         1364        81348 26324 24808 26324 24808 6063 6256   2  11  67  21   0   0
   0    1      2092748        80948         1456        79776 26512 17032 32384 17032 6995 7118   1  12  65  22   0   0
   1    0      2095596        79300         1452        83716 25064 23628 31376 23632 6674 6548   1  11  65  23   0   0
   0    0      2095120        81572         1384        78908 21236 16736 22620 16736 6108 6225   1  10  67  22   0   0
   0    1      2094396        88296         1360        74316 23944 19132 24200 19144 5706 5566   1  12  66  21   0   0
   3    0      2094912        82000         1360        74016 31860 27056 31904 27056 6313 6506   1  11  68  20   0   0
--procs-- -----------------------memory---------------------- ---swap-- -----io---- -system-- ----------cpu----------
   r    b         swpd         free         buff        cache   si   so    bi    bo   in   cs  us  sy  id  wa  st  gu
   0    1      2092624        86776         1172        92376 23304 16692 24060 16692 5904 6024   3   7  67  23   0   0
   0    1      2092528        83760         1172        92232 21476 18344 21604 18344 4862 6328   1   9  68  22   0   0
   1    1      2094456        84772         1180        91964 13880 13740 13880 13752 4649 4453   4   6  71  19   0   0
   1    1      2094148        82020         1180        91884 17768 15616 18204 15616 5603 5367   2   8  69  22   0   0
   0    1      2093140        83608         1188        80088 19556 18152 19672 18152 5847 5700   1   7  70  22   0   0
   ...
   1    1      2094008        83616         1196        79740 19016 18856 19016 18868 6002 6118   2   9  69  21   0   0
   1    1      2091500        80092         1196        79788 21304 18004 21460 18004 6798 6487   1  10  68  21   0   0
   0    1      2095824        85180         1196        79416 24292 27268 24292 27268 6784 6495   1  12  66  21   0   0
   0    1      2093052        82968         1196        79180 19960 16396 20104 16396 6240 6163   1   9  68  21   0   0
   0    2      2092512        82568         1296        73860 23916 20120 26888 20140 6848 6857   1  10  67  22   0   0
   0    1      2096900        84332         1284        75812 17152 20032 21200 20032 6153 6346   0  13  64  22   0   0
   2    0      2097152        83580         1236        77484 21132 20016 28164 20016 7065 8316   4  18  55  23   0   0
--procs-- -----------------------memory---------------------- ---swap-- -----io---- -system-- ----------cpu----------
   r    b         swpd         free         buff        cache   si   so    bi    bo   in   cs  us  sy  id  wa  st  gu
   1    1      2093704        81868         1232        75880 16576 11812 16580 11812 5817 5802   2   9  69  21   0   0
   0    1      2096560        84476         1240        76040 15672 18112 16140 18124 6413 6504   0  10  68  22   0   0
   1    2      2096232        83980         1240        75796 15828 15084 15952 15084 6211 6208   0   8  68  23   0   0
   0    1      2095976        84704         3476        92008 20276 20588 20852 20588 6519 6647   1  10  67  22   0   0
   0    1      2095156        86592         3216        93596 20836 17196 33768 17196 7091 8068   3  15  58  25   0   0
   2    1      2093288        83080         3096        93396 23060 18060 23164 18076 6466 6381   1   9  68  22   0   0
   0    1      2096024        81632         2972        94236 26284 25020 28472 25020 6251 5975   1  12  66  21   0   0
   1    1      2094364        83928         2772        90700 24060 19680 24060 19680 6241 6331   1  11  67  21   0   0
   ...
   1    1      2091292        85944         1640        80600 22184 16592 22184 16592 6136 6401   1  10  67  21   0   0
   0    1      2095856        87968         1640        81484    0    0     0     0 6235 6157   0  11  67  21   0   0
   0    1      2088700        80664         1648        80908 35812 30716 37124 30728 5638 5676   1   7  70  22   0   0
   0    1      2091000        84760         1568        80188 17732 18704 17740 18704 5874 5790   1  11  66  21   0   0
   0    1      2091924        85272         1524        79908 20908 20332 20908 20332 6677 6500   1   9  69  22   0   0
   1    1      2093636        83764         1516        79544    0    0     0     0 7876 8903   3  14  62  21   0   0
   0    2      2095536        84548         1360        80864 40332 39232 43960 39244 6100 7220   1  16  54  29   0   0
   1    2      2096348        84308         1608        85512 17352 15392 27828 15392 5783 6464  14  19  33  34   0   0
   1    0      2095236        92072         1584        82324 25240 20304 28864 20324 6752 7273   2  20  48  30   0   0
   1    1      2097152        88864         1556        83688 19916 19648 22580 19648 6902 7941   3  15  58  23   0   0
   0    1      2092184        84080         1564        83716 17796 10740 17796 10752 5464 5673   1   9  70  21   0   0
--procs-- -----------------------memory---------------------- ---swap-- -----io---- -system-- ----------cpu----------
   r    b         swpd         free         buff        cache   si   so    bi    bo   in   cs  us  sy  id  wa  st  gu
   1    1      2096776        87876         1564        83052 20624 23156 20624 23156 6313 6036   1  12  66  22   0   0
   0    1      2096620        87156         1564        82688 20408 18336 20516 18336 5709 5999   1  10  68  21   0   0
   0    1      2094100        85832         1184        74980 18732 14540 18732 14540 6546 6512   1   9  69  22   0   0
   1    2      2095000        85056         1184        74804 11000 10956 11000 10956 4551 4691   1   8  69  22   0   0
   1    1      2093532        81820         1184        79708 17308 13820 24556 13820 6437 6839   7  14  54  26   0   0
   ...
   1    0      2092840        84344         1188        79280 16004 14652 17352 14664 6171 6671   1  10  67  22   0   0
   1    1      2094324        84424         2908        89764 16328 11728 21016 11748 6582 6660   1  12  64  23   0   0
   1    1      2095884        84836         3048        90972 16824 16188 21184 16188 7625 8509   3  15  58  23   0   0
   0    1      2096184        85700         2820        88552 17172 14916 17172 14916 5353 5856   1   9  69  22   0   0
   0    1      2091208        81624         1136        84508 16548 15508 16548 15508 6070 5905   1   8  69  22   0   0
   0    1      2093472        80656         1144        84264 15640 15524 15768 15536 5404 5412   1  10  65  23   0   0

# Ctrl-C kills mem_v2

--procs-- -----------------------memory---------------------- ---swap-- -----io---- -system-- ----------cpu----------
   r    b         swpd         free         buff        cache   si   so    bi    bo   in   cs  us  sy  id  wa  st  gu
   1    0      1924300      2454836         1128        83784 5952 4796  6984  4796 2636 2532   0  21  68  11   0   0
   1    1      1864780      7220772         1128        84900  784    0  1920     0 1463 1120   0  38  60   2   0   0
   0    1      1863668      7186252         7076       110132 2396    0 33348     0 3223 4180   2  13  62  23   0   0
   0    0      1862732      7181212        10784       110636 1204    0  5096     4  984 1305   1   4  90   6   0   0
   2    2      1862336      7045152        10792       113380  552    0  2940    40 2410 3703   4  11  79   6   0   0
   0    2      1861648      7171468        10808       118724  896    0  4592   492 1255 1501   3   4  80  13   0   0
   0    0      1861064      7165924        10808       124288  688    0  3124     0 1113 1289  10   4  69  17   0   0
   1    0      1860776      7164412        10808       124288  412    0   412     0  555  737   1   1  97   1   0   0
   0    0      1860764      7164412        10808       124524   24    0   260     0  401  603   0   1  99   0   0   0

# The thrashing strom is over.
# Now the OS lazily swaps in on demand.

--procs-- -----------------------memory---------------------- ---swap-- -----io---- -system-- ----------cpu----------
   r    b         swpd         free         buff        cache   si   so    bi    bo   in   cs  us  sy  id  wa  st  gu
   0    0      1860276      7162900        10816       124524  736    0   736    28  696  907   1   2  96   1   0   0
   0    0      1860260      7161640        10956       124932   28    0   576     0  438  662   0   1  99   1   0   0
   ...
   0    0      1776492      7013968        11732       153704  120    0   120     0  578  778   2   2  96   1   0   0
   0    1      1776184      7011452        11740       153696  392    0   392    16 1867 3102   2   4  91   2   0   0
^C
